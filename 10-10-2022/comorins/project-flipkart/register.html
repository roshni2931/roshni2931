<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
</head>
<body>
    <h2>Sign up</h2>
    Your Name<br><input type="text" class="form-control"id="name" onkeyup="addDetails('name',this.value)"/><br>
    Your Email<br><input type="email" class="form-control"id="email" onkeyup="addDetails('email',this.value)"/><br>
    Your password<br><input type="password" class="form-control"id="pwd" onkeyup="addDetails('password',this.value)"/><br>
    Confirm password<br><input type="password" class="form-control"id="confirmpwd"onkeyup="addDetails('cfmpassword',this.value)"/><br> 
    
    <input type="checkbox" />
    I agree all statements in <a href="#!">Terms of service</a>
    
                        
    <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
        <button type="button" onclick="display()"class="btn btn-primary btn-lg">Register</button>
    </div>
    <code id="obj_data"></code>
    
</body>
<script>
    let user={};
    function addDetails(key,value,index,indexkey){
            // alert(value);
            if(index==null && indexkey==null)
            {
                user[key]=value;
            }else if(indexkey==null){
                user[key][index]=value;
            }
            else {
                if(!user[key][index]){
                    user[key][index]={};
                }
                user[key][index][indexkey]=value;  
            }
            // display();
        }
        function display(){

            document.getElementById("obj_data").innerHTML=JSON.stringify(user);
            if(!localStorage.getItem("User")){
            localStorage.setItem("User",JSON.stringify([]));
            }
            let stored_user=JSON.parse(localStorage.getItem("User"));
            stored_user.push(user);
            localStorage.setItem("User",JSON.stringify(stored_user));
            
            }
            
        
    
</script>
</html>